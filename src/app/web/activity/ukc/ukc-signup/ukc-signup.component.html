<div class="wrap">
  <div class="wrap-sign">
    <div class="logo">
      <img src="assets/images/logo.png" alt="KSEA logo" />
      <img src="assets/images/ukc/UKC2024_logo.png" alt="UKC logo" />
    </div>
    <div class="con-signin" *ngIf="!isConfirm">
      <h2>Sign up</h2>
      <div *ngIf="errorMessage" class="alert alert-warning">
        <strong>WARNING!</strong><br> 
        {{ errorMessage | json }}<br><br><br><br>
        <ul>Password Rules:</ul>
        <li>Password minimum length: 8</li>
        <li>Contains at least 1 number</li>
        <li>Contains at least 1 number</li>
        <li>Contains at least 1 special character</li>
        <li>Contains at least 1 uppercase letter</li>
        <li>Contains at least 1 lowercase letter</li>
      </div>
      <div class="input-g-sigin">
        <div>
          <label for="email" class="form-label">ID:</label>
          <input
            type="text"
            id="username"
            name="username"
            [(ngModel)]="user.username"
            class="form-control form-control-sm"
          />
        </div>
        <div>
          <label for="password" class="form-label">Password:</label>
          <div class="con-pw">
            <input
              [type]="user.showPassword ? 'text' : 'password'"
              id="password"
              name="password"
              #password="ngModel"
              [(ngModel)]="user.password"
              class="form-control form-control-sm"
            />
            <button
              type="button"
              class="btn-view btn-outline-secondary"
              (click)="user.showPassword = !user.showPassword"
            >
              <i
                class="bi"
                [ngClass]="{
                  'bi-eye-fill': !user.showPassword,
                  'bi-eye-slash-fill': user.showPassword
                }"
              ></i>
            </button>
          </div>
        </div>
        <div>
          <label for="email" class="form-label">Email:</label>
          <input
            type="email"
            id="email"
            name="email"
            #email="ngModel"
            [(ngModel)]="user.email"
            class="form-control form-control-sm"
          />
        </div>
        <div>
          <label
            style="width: 49.5%; float: left"
            for="firstName"
            class="form-label"
            >First Name:</label
          >
          <label
            style="width: 49.5%; float: right"
            for="lastName"
            class="form-label"
            >Last Name:</label
          >
          <input
            style="width: 49.5%; float: left"
            type="text"
            id="firstName"
            name="firstName"
            #firstName="ngModel"
            [(ngModel)]="user.given_name"
            class="form-control form-control-sm"
          />

          <input
            style="width: 49.5%; float: right"
            type="text"
            id="lastName"
            name="lastName"
            #firstName="ngModel"
            [(ngModel)]="user.family_name"
            class="form-control form-control-sm"
          />
        </div>

        <div>
          <label
            style="width: 49%; float: left"
            for="address"
            class="form-label"
            >Address:</label
          >
          <label
            style="width: 19%; float: left; margin-left: 0.05cm"
            for="city"
            class="form-label"
            >City:</label
          >
          <label
            style="width: 13%; float: left; margin-left: 0.05cm"
            for="state"
            class="form-label"
            >State:</label
          >
          <label
            style="width: 15%; float: right"
            for="zipcode"
            class="form-label"
            >Zip:</label
          >
          <input
            style="width: 49%; float: left"
            type="text"
            id="address"
            name="address"
            #address="ngModel"
            [(ngModel)]="user.address"
            class="form-control form-control-sm"
          />
          <input
            style="width: 19%; float: left; margin-left: 0.05cm"
            type="text"
            id="city"
            name="city"
            #city="ngModel"
            [(ngModel)]="user['custom:city']"
            class="form-control form-control-sm"
          />
          <input
            style="width: 13%; float: left; margin-left: 0.05cm"
            type="text"
            id="state"
            name="state"
            #state="ngModel"
            [(ngModel)]="user['custom:state']"
            class="form-control form-control-sm"
          />
          <input
            style="width: 15%; float: right"
            type="text"
            id="zipcode"
            name="zipcode"
            #zipcode="ngModel"
            [(ngModel)]="user['custom:zipcode']"
            class="form-control form-control-sm"
          />
        </div>
        <!-- ADD BELOW TO SHOW THE CONSENT MESSAGE -->
        <!-- <div>
          <label
            style="width: 95%; float: left; font-size: xx-small"
            class="form-label"
            >Consent for Signup: By signing up for KSEA membership, you agree to
            consent to the sharing of your technical expertise. Shared
            information will be solely utilized in collaborative projects
            initiated by KSEA and its sponsors. The shared information aims to
            connect KSEA members with sponsors to identify suitable individuals
            for research projects, program reviews, and other activities that
            promote the vision and goals of KSEA.</label
          >
          <input
            style="width: 5%; float: right"
            type="checkbox"
            id="consent"
            name="consent"
            [(ngModel)]="user.consent"
          />
        </div> -->
      </div>
<!-- 
      <button
        type="button"
        (click)="signUp()"
        class="btn_blue"
        [disabled]="loading || !isFulled() || !user.consent"
      > -->
      <button
      type="button"
      (click)="signUp()"
      class="btn_blue"
      [disabled]="loading || !isFulled()"
    > 



        <span
          class="spinner-border spinner-border-sm"
          role="status"
          aria-hidden="true"
          *ngIf="loading"
        ></span>
        Sign up
      </button>
    </div>
    <p class="sign-info">
      <span (click)="goSignIn()"> Do you have an account? Sign in. </span>
    </p>

    <div class="con-signin" *ngIf="isConfirm">
      <h2>Sign up</h2>
      <div *ngIf="errorMessage" class="alert alert-warning">
        <strong>Warning!</strong> {{ errorMessage | json }}
      </div>
      <div class="input-g-sigin">
        <div>
          <label for="code" class="form-label">Code:</label>
          <input
            type="text"
            id="code"
            name="code"
            #code="ngModel"
            [(ngModel)]="user.code"
            class="form-control form-control-sm"
          />
        </div>
      </div>
      <button
        type="button"
        (click)="confirmSignUp()"
        class="btn_blue"
        [disabled]="loading"
      >
        <span
          class="spinner-border spinner-border-sm"
          role="status"
          aria-hidden="true"
          *ngIf="loading"
        ></span>
        Confirm
      </button>
    </div>
  </div>
</div>
